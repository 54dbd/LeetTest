<script setup>
defineProps({
  image: {
    type: String,
    required: true,
  },
  title: {
    type: String,
    required: true,
  },
  description: {
    type: String,
    required: true,
  },
  action: {
    type: Array,
    route: String,
    label: String,
    color: String,
    required: true,
  },
  links: {
    type: Array,
    required: false,
  },
});
</script>
<template>
  <div
    class="back back-background"
    :style="{
      backgroundImage: `url(${image})`,
      backgroundSize: 'cover',
    }"
  >
    <!--    正常内容-->
    <div v-if="links == null" class="card-body col-12">
      <div>
        <h3 class="text-white" v-html="title"></h3>
        <p class="text-white opacity-8">
          {{ description }}
        </p>
      </div>

      <div class="buttons-group">
        <a
          v-for="({ route, color, label }, index) of action"
          :key="index"
          :href="route"
          target="_blank"
          class="btn btn-sm mt-3 inline-block ms-1"
          :class="`${color ? `btn-${color}` : 'btn-white'}`"
          >{{ label }}</a
        >
      </div>
    </div>
    <!--    链接列表-->
    <div
      v-else
      class="card-body col-12 scrollable"
      style="margin-left: -5%; overflow: auto"
    >
      <div>
        <ul style="text-align: left; padding-top: 10%">
          <li v-for="item in links" :key="item.id" class="text-view">
            <svg
              t="1646132610508"
              class="icon"
              viewBox="0 0 1107 1024"
              version="1.1"
              xmlns="http://www.w3.org/2000/svg"
              p-id="26684"
              width="20"
              height="20"
            >
              <path
                d="M62.357059 517.007199h-11.385591v-10.304458h11.385591v10.304458z m-10.049557-1.336034h8.713522v-7.63239h-8.713522v7.63239z"
                p-id="26685"
                fill="#1296db"
              ></path>
              <path
                d="M62.357059 517.033568h-11.385591v-10.357196h11.385591v10.357196z m-10.049557-1.336034h8.713522v-7.685128h-8.713522v7.685128z m22.53093 1.309665h-11.331388v-10.304458h11.332853v10.304458z m-9.982169-1.336034h8.646135v-7.63239h-8.659319v7.63239h0.014649z"
                p-id="26686"
                fill="#1296db"
              ></path>
              <path
                d="M74.839897 517.033568H63.505579v-10.357196h11.332853v10.357196z m-9.983634-1.336034h8.646135v-7.685128h-8.659319v7.685128h0.014649z"
                p-id="26687"
                fill="#1296db"
              ></path>
              <path
                d="M215.311016 745.923205c-24.658037 0-44.637024-1.497179-44.637025-3.341551V281.115102c0-1.842907 19.978987-3.340086 44.637025-3.340086 24.655107 0 44.637024 1.497179 44.637024 3.340086V742.568469c0 1.857557-19.981917 3.354735-44.637024 3.354736z"
                p-id="26688"
                fill="#1296db"
              ></path>
              <path
                d="M570.624366 1023.188418c-17.440229 0-34.67976-5.118535-49.314609-14.552813a47.149413 47.149413 0 0 1-5.411525-3.420658L238.256526 801.972189H100.044361c-54.887279 0-99.536023-44.610655-99.536023-99.443731V323.27929c0-54.833076 44.648744-99.442266 99.536023-99.442266h135.326214L515.896767 18.483273a46.018472 46.018472 0 0 1 5.411525-3.422123c14.63485-9.434278 31.874381-14.552813 49.354163-14.552812h2.152011c50.236063 0 91.103771 40.828155 91.103771 91.023198v840.633683c0 24.322564-9.475296 47.188967-26.701642 64.388944-17.213162 17.186793-40.079565 26.647439-64.402129 26.647439h-2.110992c-0.027834-0.013185-0.054203-0.013185-0.080573-0.013184z m-3.94218-96.730644a46.08 46.08 0 0 1 3.674094 2.339525V94.899456a42.43667 42.43667 0 0 1-3.674094 2.324876L278.281888 308.352916a46.787571 46.787571 0 0 1-27.623095 9.032881H100.044361c-3.300532 0-5.98725 2.647165-5.987251 5.893493V702.516738c0 3.247794 2.686718 5.893494 5.987251 5.893494h153.500383a46.759737 46.759737 0 0 1 27.624561 9.034346l285.512881 209.016126zM791.012898 761.905808c-13.404292 0-26.714827-5.733814-35.97624-16.852784-16.53196-19.845677-13.832057-49.339514 6.01362-65.871473 46.014077-38.315765 76.50994-107.487771 77.686294-176.259846 1.095783-63.133482-21.95667-119.008137-64.897282-157.350272-19.269951-17.199977-20.941459-46.775851-3.741482-66.045802 17.213162-19.271416 46.775851-20.941459 66.045803-3.741482 63.559783 56.743371 97.693116 137.983634 96.130014 228.753396-1.658323 96.25014-44.329385 190.721831-111.365493 246.530564a46.556109 46.556109 0 0 1-29.895234 10.837699z"
                p-id="26689"
                fill="#1296db"
              ></path>
              <path
                d="M927.60776 862.164052c-13.229963 0-26.366169-5.57267-35.614398-16.425019-16.759027-19.659628-14.407783-49.179834 5.251845-65.937396 67.663107-57.694123 110.842506-155.186541 115.493723-260.790387 4.743508-107.527325-30.818152-208.132761-97.531971-276.011216-18.109711-18.42907-17.85481-48.043033 0.57426-66.151279 18.42907-18.108246 48.044498-17.85481 66.152744 0.574261 44.102318 44.864092 77.284898 99.323605 98.627754 161.866712 19.551222 57.279542 28.425888 120.852509 25.645413 183.838032-2.77901 62.998707-17.145774 125.637036-41.535725 181.151313-25.619044 58.307937-62.531388 109.039153-106.725997 146.711805a46.731903 46.731903 0 0 1-30.337648 11.173174z"
                p-id="26690"
                fill="#1296db"
              ></path>
            </svg>
            <router-link
              style="font-size: 15px; color: white"
              :to="{ path: '/article', query: { id: item.id } }"
              >{{ item.title }}</router-link
            >
          </li>
        </ul>
      </div>
    </div>
  </div>
</template>

<style>
.text-view {
  display: inline-block;
  white-space: nowrap;
  width: 100%;
  overflow: hidden;
  text-overflow: ellipsis;
}
.scrollable {
  width: 100%;
  height: 200px;
  overflow: auto;
}

.scrollable::-webkit-scrollbar {
  width: 0.5em;
  padding: 50%;
}

.scrollable::-webkit-scrollbar-track {
  background-color: rgba(0, 0, 0, 0.05);
  opacity: 20%;
}

.scrollable::-webkit-scrollbar-thumb {
  background-color: rgba(0, 0, 0, 0.1);
  opacity: 20%;
}
</style>
