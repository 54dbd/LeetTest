<script setup>
import { onMounted } from "vue";

//Vue Material Kit 2 components
import MaterialAvatar from "@/components/MaterialAvatar.vue";
import MaterialButton from "@/components/MaterialButton.vue";
import MaterialInput from "@/components/MaterialInput.vue";

// image
import profilePic from "@/assets/img/bruce-mars.jpg";

// material-input
import setMaterialInput from "@/assets/js/material-input";
// get username
import store from "@/stores"; // 引入store实例

onMounted(() => {
  setMaterialInput();
});
const userName = store.state.user.userInfo.username;
</script>
<template>
  <section class="py-sm-7 py-5 position-relative">
    <div class="container">
      <div class="row">
        <div class="col-12 mx-auto">
          <div class="mt-n8 mt-md-n9 text-center">
            <div class="blur-shadow-avatar">
              <MaterialAvatar
                size="xxl"
                class="shadow-xl position-relative z-index-2"
                :image="profilePic"
                alt="Avatar"
              />
            </div>
            {{ userName }}
          </div>
          <div class="d-flex justify-content-between align-items-center mb-2">
            <div class="col-md-10 ps-md-2">
              <MaterialInput
                class="input-group-static mb-4"
                type="text"
                label="文章标题"
                placeholder="请输入内容"
              />
            </div>
            <MaterialButton variant="gradient" color="success" class="mt-3 mb-0"
              >发布文章</MaterialButton
            >
          </div>
          <div>
            <mavon-editor
              v-model="mdText"
              class="me-editor"
              ref="md"
              @imgAdd="$imgAdd"
            ></mavon-editor>
          </div>
        </div>
      </div>
    </div>
  </section>
</template>

